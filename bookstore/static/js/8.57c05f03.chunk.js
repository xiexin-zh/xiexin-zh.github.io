(window.webpackJsonpbookstore=window.webpackJsonpbookstore||[]).push([[8],{276:function(e,t,n){"use strict";(function(e,o){n.d(t,"a",(function(){return d}));var a=n(11),i=n(12),s=n(15),r=n(13),l=n(14),c=(n(267),n(268)),u=n.n(c),f=(n(277),n(23)),p=n(21),h=(n(87),u.a.prompt,u.a.alert),d=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(s.a)(this,Object(r.a)(t).call(this))).changinfo=function(e){console.log(e),p.a.push("/index/mode/bookchange/".concat(e))},e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.book;return o.createElement("div",{style:{height:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"10px"}},o.createElement("div",{className:"lists"},o.createElement("div",{className:"list_left"},o.createElement("img",{className:"bookbg",src:t.imgs.length>0?t.imgs[0].url:"",alt:""})),o.createElement("div",{className:"list_center",onClick:function(){return e.changinfo(t._id)}},o.createElement("p",{className:"p_name"},o.createElement("span",{style:{display:"block",float:"left",width:"70%",overflow:"hidden",color:"#484a4c"}},t.name),o.createElement("span",{style:{display:"block",float:"right",width:"30%",fontSize:"12px",overflow:"hidden",color:"#005"}},"\u4f5c\u8005\uff1a",t.auther)),o.createElement("p",{className:"p_code",style:{color:"#08f2be"}},"\u7f16\u53f7\uff1a",t.id)),o.createElement("div",{className:"list_right"},o.createElement("span",{onClick:function(){return h("\u5220\u9664","\u786e\u5b9a\u8981\u5220\u9664\u672c\u4e66\u5417?",[{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")}},{text:"\u786e\u8ba4",onPress:function(){console.log("ok"),e.props.dispatch(Object(f.r)({url:"/bookstore/deleteBook",params:{id:t._id}}))}}])},style:{color:"red"},className:"iconfont icon-shanchu"}))))}}]),t}(e)}).call(this,n(0).Component,n(0))},277:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"default",(function(){return v}));n(326);var a,i=n(328),s=n.n(i),r=n(11),l=n(12),c=n(15),u=n(13),f=n(14),p=(n(332),n(53)),h=n(276),d=n(87),m=n(23),v=Object(d.b)((function(e){return{booklist:e.getIn(["data","booklist"])}}))(a=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).searchBook=function(e){console.log(e),n.props.dispatch(Object(m.t)({url:"/bookstore/getBookList",params:{name:e,limit:20}}))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.t)({url:"/bookstore/getBookList",params:{limit:20}})).then((function(e){}))}},{key:"render",value:function(){var e=this,t=this.props.booklist;return o.createElement("div",{className:"deletebook"},o.createElement(p.a,{title:"\u56fe\u4e66\u4fee\u6539",showBack:!0}),o.createElement(s.a,{ref:function(t){return e.bookname=t},placeholder:"\u8bf7\u8f93\u5165\u4e66\u540d",onSubmit:this.searchBook,onCancel:function(){e.bookname.state.value="",e.props.dispatch(Object(m.t)({url:"/bookstore/getBookList",params:{limit:20}}))}}),o.createElement("div",{className:"booklist1"},t.map((function(t,n){return o.createElement(h.a,{dispatch:e.props.dispatch,key:n,book:t})}))))}}]),t}(e))||a}.call(this,n(0).Component,n(0))},326:function(e,t,n){"use strict";n(38),n(327)},327:function(e,t,n){},328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=b(n(6)),a=b(n(19)),i=b(n(3)),s=b(n(5)),r=b(n(2)),l=b(n(4)),c=b(n(17)),u=v(n(0)),f=v(n(1)),p=b(n(46)),h=b(n(329)),d=n(132),m=n(330);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,i.default)(this,t);var n=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit&&n.props.onSubmit(n.state.value||""),n.inputRef&&n.inputRef.blur()},n.onChange=function(e){n.state.focus||n.setState({focus:!0});var t=e.target.value;"value"in n.props||n.setState({value:t}),n.props.onChange&&n.props.onChange(t)},n.onFocus=function(){n.setState({focus:!0}),n.firstFocus=!0,n.props.onFocus&&n.props.onFocus()},n.onBlur=function(){var e;n.onBlurTimeout=(e=function(){n.blurFromOnClear||document.activeElement!==n.inputRef&&n.setState({focus:!1}),n.blurFromOnClear=!1},window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur())},n.onClear=function(){n.doClear()},n.doClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.blurFromOnClear=e,"value"in n.props||n.setState({value:""}),n.props.onClear&&n.props.onClear(""),n.props.onChange&&n.props.onChange(""),e&&n.focus()},n.onCancel=function(){n.props.onCancel?n.props.onCancel(n.state.value||""):n.doClear(!1)},n.focus=function(){n.inputRef&&n.inputRef.focus()};var o=void 0;return o="value"in e?e.value||"":"defaultValue"in e?e.defaultValue:"",n.state={value:o,focus:!1},n}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){if(this.rightBtnRef){var e=window.getComputedStyle(this.rightBtnRef);this.rightBtnInitMarginleft=e.marginLeft}this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){if(this.syntheticPhRef)if(this.inputContainerRef&&this.inputContainerRef.className.indexOf(this.props.prefixCls+"-start")>-1){if(this.syntheticPhContainerRef){var e=this.syntheticPhContainerRef.getBoundingClientRect().width;this.syntheticPhRef.style.width=Math.ceil(e)+"px"}!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="0")}else this.syntheticPhRef.style.width="100%",!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="-"+(this.rightBtnRef.offsetWidth+(null!=this.rightBtnInitMarginleft?parseInt(this.rightBtnInitMarginleft,10):0))+"px")}},{key:"componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){var e;this.onBlurTimeout&&(e=this.onBlurTimeout,window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e),this.onBlurTimeout=null)}},{key:"render",value:function(){var e,t=this,i=this.props,s=i.prefixCls,r=i.showCancelButton,l=i.disabled,f=i.placeholder,m=i.className,v=i.style,b=i.maxLength,g=(0,d.getComponentLocale)(this.props,this.context,"SearchBar",(function(){return n(331)})).cancelText,y=this.state,C=y.value,k=y.focus,w=(0,c.default)(s,m,(0,a.default)({},s+"-start",!!(k||C&&C.length>0))),B=(0,c.default)(s+"-clear",(0,a.default)({},s+"-clear-show",!!(k&&C&&C.length>0))),O=(0,c.default)(s+"-cancel",(e={},(0,a.default)(e,s+"-cancel-show",!!(r||k||C&&C.length>0)),(0,a.default)(e,s+"-cancel-anim",this.firstFocus),e));return u.createElement("form",{onSubmit:this.onSubmit,className:w,style:v,ref:function(e){return t.inputContainerRef=e},action:"#"},u.createElement("div",{className:s+"-input"},u.createElement("div",{className:s+"-synthetic-ph",ref:function(e){return t.syntheticPhRef=e}},u.createElement("span",{className:s+"-synthetic-ph-container",ref:function(e){return t.syntheticPhContainerRef=e}},u.createElement("i",{className:s+"-synthetic-ph-icon"}),u.createElement("span",{className:s+"-synthetic-ph-placeholder",style:{visibility:f&&!C?"visible":"hidden"}},f))),u.createElement("input",(0,o.default)({type:"search",className:s+"-value",value:C,disabled:l,placeholder:f,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return t.inputRef=e},maxLength:b},(0,h.default)(this.props))),u.createElement(p.default,{activeClassName:s+"-clear-active"},u.createElement("a",{onClick:this.onClear,className:B}))),u.createElement("div",{className:O,onClick:this.onCancel,ref:function(e){return t.rightBtnRef=e}},this.props.cancelText||g))}}]),t}(u.Component);t.default=g,g.defaultProps=m.defaultProps,g.contextTypes={antLocale:f.object},e.exports=t.default},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce((function(t,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(t[n]=e[n]),t}),{})},e.exports=t.default},330:function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0});t.defaultProps={prefixCls:"am-search",placeholder:"",onSubmit:o,onChange:o,onFocus:o,onBlur:o,onClear:o,showCancelButton:!1,disabled:!1}},331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cancelText:"\u53d6\u6d88"},e.exports=t.default},332:function(e,t,n){}}]);
//# sourceMappingURL=8.57c05f03.chunk.js.map