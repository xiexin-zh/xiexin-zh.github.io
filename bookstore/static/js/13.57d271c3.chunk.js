(window.webpackJsonpbookstore=window.webpackJsonpbookstore||[]).push([[13],{257:function(e,t,a){"use strict";a(38),a(64),a(265)},258:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(a(6)),r=p(a(19)),n=p(a(3)),l=p(a(5)),i=p(a(2)),u=p(a(4)),s=p(a(17)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0)),f=p(a(46)),d=a(89);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(a[o[r]]=e[o[r]])}return a};function h(){}var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g;var b=function(e){function t(e){(0,n.default)(this,t);var a=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.focus=function(){a.textareaRef.focus()},a.reAlignHeight=function(){var e=a.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},a.onChange=function(e){var t=e.target.value;"value"in a.props?a.setState({value:a.props.value}):a.setState({value:t});var o=a.props.onChange;o&&o(t),a.componentDidUpdate()},a.onBlur=function(e){a.debounceTimeout=setTimeout((function(){document.activeElement!==a.textareaRef&&a.setState({focus:!1})}),100);var t=e.currentTarget.value;a.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),a.props.onBlur(t))},a.onFocus=function(e){a.debounceTimeout&&(clearTimeout(a.debounceTimeout),a.debounceTimeout=null),a.setState({focus:!0});var t=e.currentTarget.value;a.props.onFocus&&a.props.onFocus(t)},a.onErrorClick=function(){a.props.onErrorClick&&a.props.onErrorClick()},a.clearInput=function(){a.setState({value:""}),a.props.onChange&&a.props.onChange("")},a.state={focus:!1,value:e.value||e.defaultValue||""},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t;"value"in e&&this.setState({value:(t=e.value,"undefined"===typeof t||null===t?"":t)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,a=this,n=this.props,l=n.prefixCls,i=n.prefixListCls,u=n.editable,p=n.style,h=n.clear,b=(n.children,n.error),y=n.className,g=n.count,_=n.labelNumber,w=n.title,C=(n.onErrorClick,n.autoHeight),x=(n.defaultValue,m(n,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),k=x.disabled,O=this.state,T=O.value,E=O.focus,N=g>0&&this.props.rows>1,P=(0,s.default)(y,i+"-item",l+"-item",(e={},(0,r.default)(e,l+"-disabled",k),(0,r.default)(e,l+"-item-single-line",1===this.props.rows&&!C),(0,r.default)(e,l+"-error",b),(0,r.default)(e,l+"-focus",E),(0,r.default)(e,l+"-has-count",N),e)),S=(0,s.default)(l+"-label",(t={},(0,r.default)(t,l+"-label-2",2===_),(0,r.default)(t,l+"-label-3",3===_),(0,r.default)(t,l+"-label-4",4===_),(0,r.default)(t,l+"-label-5",5===_),(0,r.default)(t,l+"-label-6",6===_),(0,r.default)(t,l+"-label-7",7===_),t)),W=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(v,"_").length}(T),j={};if(g>0)if(d.IS_IOS){var q=T?T.replace(v,"_"):"",M=q?q.split("_").length-1:0;j.maxLength=g+M-W+(T?T.length:0)}else j.maxLength=g-W+(T?T.length:0);return c.createElement("div",{className:P},w&&c.createElement("div",{className:S},w),c.createElement("div",{className:l+"-control"},c.createElement("textarea",(0,o.default)({ref:function(e){return a.textareaRef=e}},j,x,{value:T,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!u,style:p}))),h&&u&&T&&W>0&&c.createElement(f.default,{activeClassName:l+"-clear-active"},c.createElement("div",{className:l+"-clear",onClick:this.clearInput})),b&&c.createElement("div",{className:l+"-error-extra",onClick:this.onErrorClick}),N&&c.createElement("span",{className:l+"-count"},c.createElement("span",null,T?W:0),"/",g))}}]),t}(c.Component);t.default=b,b.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:h,onBlur:h,onFocus:h,onErrorClick:h,error:!1,labelNumber:5},e.exports=t.default},265:function(e,t,a){},278:function(e,t,a){"use strict";a(38),a(55),a(279)},279:function(e,t,a){},280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(a(6)),r=d(a(3)),n=d(a(5)),l=d(a(2)),i=d(a(4)),u=d(a(17)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0)),c=d(a(36)),f=d(a(281));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(a[o[r]]=e[o[r]])}return a},m=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=function(){var e=a.props,t=e.mode,o=e.onClick;o&&o(),"closable"===t&&a.setState({show:!1})},a.state={show:!0},a}return(0,i.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.icon,r=e.onClick,n=e.children,l=e.className,i=e.prefixCls,d=e.action,m=e.marqueeProps,h=p(e,["mode","icon","onClick","children","className","prefixCls","action","marqueeProps"]),v={},b=null;"closable"===t?b=s.createElement("div",{className:i+"-operation",onClick:this.onClick,role:"button","aria-label":"close"},d||s.createElement(c.default,{type:"cross",size:"md"})):("link"===t&&(b=s.createElement("div",{className:i+"-operation",role:"button","aria-label":"go to detail"},d||s.createElement(c.default,{type:"right",size:"md"}))),v.onClick=r);var y=(0,u.default)(i,l);return this.state.show?s.createElement("div",(0,o.default)({className:y},h,v,{role:"alert"}),a&&s.createElement("div",{className:i+"-icon","aria-hidden":"true"},a),s.createElement("div",{className:i+"-content"},s.createElement(f.default,(0,o.default)({prefixCls:i,text:n},m))),b):null}}]),t}(s.Component);t.default=m,m.defaultProps={prefixCls:"am-notice-bar",mode:"",icon:s.createElement(c.default,{type:"voice",size:"xxs"}),onClick:function(){}},e.exports=t.default},281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(a(6)),r=f(a(3)),n=f(a(5)),l=f(a(2)),i=f(a(4)),u=c(a(0)),s=c(a(8));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){(0,r.default)(this,t);var e=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={animatedWidth:0,overflowWidth:0},e}return(0,i.default)(t,e),(0,n.default)(t,[{key:"componentDidMount",value:function(){this._measureText(),this._startAnimation()}},{key:"componentDidUpdate",value:function(){this._measureText(),this._marqueeTimer||this._startAnimation()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._marqueeTimer)}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,r=t.className,n=t.text,l=(0,o.default)({position:"relative",right:this.state.animatedWidth,whiteSpace:"nowrap",display:"inline-block"},this.props.style);return u.createElement("div",{className:a+"-marquee-wrap "+r,style:{overflow:"hidden"},role:"marquee"},u.createElement("div",{ref:function(t){return e.textRef=t},className:a+"-marquee",style:l},n))}},{key:"_startAnimation",value:function(){var e=this;this._marqueeTimer&&window.clearTimeout(this._marqueeTimer);var t=1/this.props.fps*1e3,a=0===this.state.animatedWidth?this.props.leading:t;0!==this.state.overflowWidth&&(this._marqueeTimer=window.setTimeout((function a(){var o=e.state.overflowWidth,r=e.state.animatedWidth+1,n=r>o;if(n){if(!e.props.loop)return;r=0}n&&e.props.trailing?e._marqueeTimer=window.setTimeout((function(){e.setState({animatedWidth:r}),e._marqueeTimer=window.setTimeout(a,t)}),e.props.trailing):(e.setState({animatedWidth:r}),e._marqueeTimer=window.setTimeout(a,t))}),a))}},{key:"_measureText",value:function(){var e=s.findDOMNode(this),t=this.textRef;if(e&&t){var a=e.offsetWidth,o=t.offsetWidth-a;o!==this.state.overflowWidth&&this.setState({overflowWidth:o})}}}]),t}(u.Component);t.default=d,d.defaultProps={text:"",loop:!1,leading:500,trailing:800,fps:40,className:""},e.exports=t.default}}]);
//# sourceMappingURL=13.57d271c3.chunk.js.map