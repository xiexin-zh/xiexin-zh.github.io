{"version":3,"sources":["scripts/index.js","scripts/views/index.js","scripts/views/guide/index.js","scripts/views/app/index.js","scripts/views/Login/index.js","scripts/components/Popover/index.js","scripts/views/admin/superadmin.js","scripts/views/admin/shouye.js","logo.svg","assets/images/guide.jpg","utils/axios.js","utils/history.js","scripts/actions/index.js","App.js","serviceWorker.js","scripts/reducers/data.js","scripts/reducers/index.js","store.js","index.js","utils/lazyload.js","utils/methods.js","scripts/components/Head/index.js"],"names":["BookStore","basename","component","Layout","Component","className","path","exact","render","to","Guide","Index","Login","Admin","Super","timer","goStore","clearInterval","history","push","state","guideBg","require","num","setInterval","setState","this","src","alt","onClick","LazyLoad","title","showBack","showSearch","showPop","mode","text","keys","LoginBox","onErrorClick","hasError","info","onChange","value","replace","length","getCode","usertel","failToast","time","flag","msg","axios","post","then","res","yzm","data","param","console","log","gotoLogin","code","type","loadingToast","setTimeout","sessionStorage","token","localStorage","setItem","Base64","fromByteArray","Date","getTime","getItem","nowTime","renderHeader","placeholder","error","ref","el","maxLength","disabled","style","textAlign","paddingTop","display","Item","myImg","Pop","onSelect","opt","visible","selected","props","handleVisibleChange","mask","overlayClassName","overlayStyle","color","overlay","key","icon","data-seed","whiteSpace","marginRight","align","overflow","adjustY","adjustX","offset","onVisibleChange","height","padding","alignItems","adminname","adminpwd","get","params","clear","SuperAdmin","backgroundColor","module","exports","hide","fail","defaults","headers","common","baseURL","interceptors","request","use","config","loading","Promise","reject","response","createHashHistory","ADDBOOKCLASSIFY","addBookClassify","a","url","payload","sres","GETBOOKCLASSIFY","getClassify","DELETECLASSIFY","deleteClassify","CHANGECLASSIFY","changeClassify","ADDNEWBOOK","addNewBook","bookinfo","GETBOOKLIST","getBookList","result","DELETEBOOK","deleteBook","UPDATEBOOK","updateBook","BORROWBOOK","borrowBook","GETBORROWBOOK","getBorrowBook","setBorrowBook","REPAYBOOK","bookRepay","GETREADERLIST","getReaderList","App","Boolean","window","location","hostname","match","defaultSate","immutable","Map","classifylist","booklist","borrowlist","readerlist","reducers","combineReducers","action","set","store","createStore","applyMiddleware","thunk","promise","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","loadingComponent","loader","Loadable","successToast","success","dateFormat","date","y","getFullYear","m","getMonth","d","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","Head","backClick","go","onLeftClick","rightContent"],"mappings":"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","file":"static/js/main.afc36264.chunk.js","sourcesContent":["\r\nimport {HashRouter as Hash,Route} from 'react-router-dom'\r\n\r\nimport {Layout} from './views'\r\n\r\nexport class BookStore extends Component{\r\n  render(){\r\n    return(\r\n      <Hash basename='/'>\r\n        <Route component={Layout}></Route>\r\n      </Hash>\r\n    )\r\n  }\r\n}","import LazyLoad from '&/lazyload'\r\nimport {Switch,Route,Redirect} from 'react-router-dom'\r\n\r\nimport {Guide} from './guide'\r\nimport {Index} from './app'\r\nimport Login from './Login'\r\nimport Admin from './admin/superadmin'\r\nimport Super from './admin/shouye'\r\n\r\nexport class Layout extends Component{\r\n  render(){\r\n    return(\r\n      <div className='main'>\r\n        <Switch>\r\n          <Route path='/' exact render={()=>(<Redirect to='/guide'></Redirect>)}></Route>\r\n          <Route path=\"/guide\" component={Guide}></Route>\r\n          <Route path=\"/index\" component={Index}></Route>\r\n          <Route path=\"/login\" component={Login}></Route>\r\n          <Route path=\"/admin\" component={Admin}></Route>\r\n          <Route path=\"/super\" component={Super}></Route>\r\n          <Route render={()=>(<Redirect to='/guide'></Redirect>)}></Route>\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}","\r\nimport './index.scss'\r\nimport { history } from '&/history'\r\n\r\nvar timer = null;\r\n\r\nexport class Guide extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      guideBg: require('@/assets/images/guide.jpg'),\r\n      num: 5\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    timer = setInterval(() => {\r\n      if (this.state.num <= 0) {\r\n        clearInterval(timer);\r\n        history.push('/index/information');\r\n      } else {\r\n        this.setState({\r\n          num: --this.state.num\r\n        })\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  goStore=()=>{\r\n    clearInterval(timer);\r\n    history.push('/index/information');\r\n  }\r\n\r\n  render() {\r\n    const { num } = this.state;\r\n    return (\r\n      <div className='guide'>\r\n        <img className='bgimg' src={this.state.guideBg} alt=\"\" />\r\n        <div className='time' onClick={this.goStore}>\r\n          点击跳过 {num} S\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n","\r\nimport './index.scss'\r\nimport {Switch,Route,Redirect} from 'react-router-dom';\r\nimport LazyLoad from '&/lazyload';\r\n\r\nexport class Index extends Component{\r\n  render(){\r\n    return(\r\n      <div>\r\n        <Switch>\r\n          <Route path=\"/index/mode\" component={LazyLoad(()=>import('../information/route'))}></Route>\r\n          <Route path=\"/index/information\" component={LazyLoad(()=>import('../information'))}></Route>\r\n          <Route render={()=>(<Redirect to=\"/index/information\"/>)}></Route>\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import './index.scss'\r\n\r\nimport { Button, List, InputItem, Toast, WingBlank, WhiteSpace } from 'antd-mobile'\r\nimport { failToast, loadingToast } from '&/methods'\r\nimport { axios } from '&/axios'\r\nimport Head from '~/components/Head'\r\nimport {history} from '&/history'\r\nimport Base64 from 'base64-js'\r\n\r\nvar timer = null;\r\nvar num = 60;\r\n\r\nexport default class Login extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Head title='用户登入' showBack={false} showSearch={false} showPop={true} mode={{ text: '管理员', keys: 'admin' }}></Head>\r\n        <LoginBox></LoginBox>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass LoginBox extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hasError: false,\r\n      value: '',\r\n      flag: false,\r\n      time: 60,\r\n      msg: '获取',\r\n      yzm:''\r\n    }\r\n  }\r\n\r\n  onErrorClick = () => {\r\n    if (this.state.hasError) {\r\n      Toast.info('请输入11位手机号');\r\n    }\r\n  }\r\n\r\n  onChange = (value) => {\r\n    if (value.replace(/\\s/g, '').length < 11) {\r\n      this.setState({\r\n        hasError: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        hasError: false,\r\n      });\r\n    }\r\n    this.setState({\r\n      value,\r\n    });\r\n  }\r\n\r\n  getCode = () => {\r\n\r\n    if (this.usertel.state.value.replace(/\\s/g, '').length < 11) {\r\n      failToast('请输入正确手机号', 1);\r\n      return\r\n    }\r\n\r\n    timer = setInterval(() => {\r\n      if (this.state.time <= 0) {\r\n        this.setState({\r\n          flag: false,\r\n          msg: '获取',\r\n          time: 60\r\n        })\r\n        clearInterval(timer);\r\n      } else {\r\n        this.setState({\r\n          time: --this.state.time,\r\n          msg: '' + this.state.time + 'S',\r\n          flag: true\r\n        })\r\n      }\r\n\r\n    }, 1000)\r\n\r\n    //获取验证码\r\n    axios.post('/bookstore/sendCode', { usertel: this.usertel.state.value.replace(/ /g, '') }).then(res => {\r\n      this.setState({\r\n        yzm:res.data.param\r\n      })\r\n      console.log('--------------------')\r\n      console.log(\"| 手机验证码：   \"+res.data.param+\" |\")\r\n      console.log('--------------------')\r\n     })\r\n\r\n  }\r\n\r\n\r\n  gotoLogin = () => {\r\n    var usertel = this.usertel.state.value.replace(/ /g, '');\r\n    var code = this.code.state.value;\r\n    if (usertel.length != 11) {\r\n      failToast('请输入正确的手机号');\r\n      return;\r\n    }\r\n    if (code.length != 4) {\r\n      failToast('请输入正确的验证码');\r\n      return;\r\n    }\r\n\r\n    axios.post('/bookstore/login', { usertel: this.usertel.state.value.replace(/ /g, ''), code: this.code.state.value }).then(res => {\r\n      if (!!res.data.type) {\r\n        loadingToast('登陆中...',1)\r\n        setTimeout(() => {\r\n          history.push('/index/information');\r\n        }, 800);\r\n        sessionStorage.token = res.data.token;\r\n        localStorage.setItem('usertel',Base64.fromByteArray(this.usertel.state.value.replace(/ /g, '')));\r\n        localStorage.setItem('time',new Date().getTime())\r\n        // console.log(Base64.fromByteArray('15927179505'))\r\n\r\n      } else {\r\n        sessionStorage.token = ''\r\n        localStorage.setItem('usertel','');\r\n        localStorage.setItem('time','')\r\n      }\r\n    })\r\n \r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('usertel')&&localStorage.getItem('time')){\r\n      var nowTime = new Date().getTime();\r\n      if((localStorage.getItem('time')*1+1000*60*60*24*30) > nowTime){\r\n        history.push('/index/information')\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(timer)\r\n  }\r\n\r\n  render() {\r\n    const { flag, msg } = this.state;\r\n    return (\r\n      <div className='box_con'>\r\n        <List renderHeader={() => '用户通过手机验证登陆'}>\r\n          <InputItem\r\n            type=\"phone\"\r\n            placeholder=\"请输入手机号码\"\r\n            error={this.state.hasError}\r\n            onErrorClick={this.onErrorClick}\r\n            onChange={this.onChange}\r\n            value={this.state.value}\r\n            ref={el => this.usertel = el}\r\n          >手机号码</InputItem>\r\n          <InputItem\r\n            className='codeinput'\r\n            type=\"number\"\r\n            maxLength='4'\r\n            placeholder=\"请输入验证码\"\r\n            ref={el => this.code = el}\r\n          >验证码<Button className='code' disabled={flag} onClick={this.getCode}>{msg}</Button></InputItem>\r\n        </List>\r\n        <div className='loginbox'>\r\n          <Button className='login' onClick={this.gotoLogin}>登入</Button>\r\n        </div>\r\n        <div style={{textAlign:'center',paddingTop:'20px',display:this.state.yzm?'block':'none'}}>\r\n          本次验证码:{this.state.yzm}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","\r\n\r\nimport './index.scss'\r\n\r\nimport { Popover, NavBar, Icon } from 'antd-mobile';\r\n\r\nconst Item = Popover.Item;\r\n\r\nimport {history} from '&/history';\r\n\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\n\r\n\r\nexport class Pop extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      visible: false,\r\n      selected: '',\r\n    };\r\n  }\r\n\r\n\r\n  onSelect = (opt) => {\r\n    // console.log(opt.props.value);\r\n    this.setState({\r\n      visible: false,\r\n      selected: opt.props.value,\r\n    });\r\n    if(opt.props.value=='mode'){\r\n      if(this.props.mode.keys=='user'){\r\n        history.push('/login')\r\n      }else if(this.props.mode.keys=='admin'){\r\n        history.push('/admin')\r\n      }\r\n    }\r\n  };\r\n  handleVisibleChange = (visible) => {\r\n    this.setState({\r\n      visible,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {mode} = this.props;\r\n    // console.log(this.props)\r\n    return (\r\n      <div>\r\n        <Popover mask\r\n          overlayClassName=\"fortest\"\r\n          overlayStyle={{ color: 'currentColor' }}\r\n          visible={this.state.visible}\r\n          overlay={[\r\n            (<Item key=\"4\" value=\"photo\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\" >扫一扫</Item>),\r\n            (<Item key=\"5\" value=\"mode\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>{mode.text}</Item>),\r\n            (<Item key=\"6\" value=\"help\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n              <span style={{ marginRight: 5 }}>帮助</span>\r\n            </Item>),\r\n          ]}\r\n          align={{\r\n            overflow: { adjustY: 0, adjustX: 0 },\r\n            offset: [-10, 0],\r\n          }}\r\n          onVisibleChange={this.handleVisibleChange}\r\n          onSelect={this.onSelect}\r\n        >\r\n          <div style={{\r\n            height: '100%',\r\n            padding: '0 15px',\r\n            marginRight: '-15px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n          }}\r\n          >\r\n            <Icon type=\"ellipsis\" />\r\n          </div>\r\n        </Popover>\r\n      </div>\r\n    )\r\n  }\r\n}","\r\n\r\nimport './superadmin.scss'\r\n\r\nimport { Button, List, InputItem, Toast, WingBlank, WhiteSpace } from 'antd-mobile'\r\nimport Head from '~/components/Head'\r\nimport {axios} from '&/axios'\r\nimport {history} from '&/history'\r\n\r\nimport {failToast,loadingToast} from '&/methods'\r\n\r\nexport default class Admin extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Head title='管理员登入' showBack={false} showSearch={false} showPop={true} mode={{text:'普通用户',keys:'user'}}></Head>\r\n        <LoginBox></LoginBox>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nclass LoginBox extends Component {\r\n\r\n  gotoLogin=()=>{\r\n\r\n    var adminname = this.adminname.state.value;\r\n    var adminpwd = this.adminpwd.state.value;\r\n    if(adminname.length <= 0){\r\n      failToast('请输入用户名',1.5);\r\n      return;\r\n    }\r\n    if(adminpwd.length <= 0){\r\n      failToast('请输入密码',1.5);\r\n      return;\r\n    }\r\n\r\n    axios.get('/bookstore/adminLogin',{params:{adminname,adminpwd}}).then(res=>{\r\n      console.log(res)\r\n    })\r\n\r\n    loadingToast('登陆中...',0.6)\r\n    setTimeout(() => {\r\n      history.push('/super/user')\r\n    }, 2);\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='adminlogin'>\r\n        <div>\r\n          <List>\r\n            <InputItem\r\n              clear\r\n              placeholder=\"请输入管理员账户\"\r\n              ref={el => this.adminname = el}\r\n            >管理员</InputItem>\r\n            <InputItem\r\n              clear\r\n              type='password'\r\n              placeholder=\"请输入密码\"\r\n              ref={el => this.adminpwd = el}\r\n            >密码</InputItem>\r\n          </List>\r\n        </div>\r\n        <div className='loginbox'>\r\n          <Button className='login' onClick={this.gotoLogin}>登入</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","\r\nimport LazyLoad from '&/lazyload'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nexport default class SuperAdmin extends Component {\r\n  render() {\r\n    return (\r\n      <div className='admin_main' style={{backgroundColor:'#fff'}}>\r\n        <div>\r\n          <Switch>\r\n            <Route path=\"/super/user\" component={LazyLoad(()=>import('./user'))}></Route>\r\n            <Route path=\"/super/store\" component={LazyLoad(()=>import('./store'))}></Route>\r\n            <Route path=\"/super/notice\" component={LazyLoad(()=>import('./notice'))}></Route>\r\n            <Route path=\"/super/mine\" component={LazyLoad(()=>import('./mine'))}></Route>\r\n            <Route path=\"/super/adduser\" component={LazyLoad(()=>import('./adduser'))}></Route>\r\n            <Route render={() => (<Redirect to='/super/mine'></Redirect>)}></Route>\r\n          </Switch>\r\n          \r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/guide.13d80acc.jpg\";","\r\nimport axios from 'axios';\r\n\r\nimport { Toast } from 'antd-mobile';\r\n\r\nlet token = \"\";\r\naxios.defaults.headers.common['token'] = token;    // token \r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\nexport function failToast(msg, time) {\r\n  Toast.hide();\r\n  Toast.fail(msg, time);\r\n}\r\n\r\nexport function loadingToast(msg, time) {\r\n  Toast.hide();\r\n  Toast.loading(msg, time)\r\n}\r\n\r\nexport function showToast(msg, time) {\r\n  Toast.hide();\r\n  Toast.info(msg, time);\r\n}\r\n\r\n//基路径\r\naxios.defaults.baseURL = \"https://xx1314.fun:8001/\";\r\n\r\n// 拦截器配置    Interceptors \r\n// 发送请求之前 添加拦截器  \r\naxios.interceptors.request.use(function (config) {\r\n  // 发送之前做的事情 \r\n  loadingToast(\"请求中\",1);\r\n  config.headers['token'] = sessionStorage.token;\r\n  return config;\r\n}, function (error) {\r\n  // 发送失败 做的失败 \r\n  failToast(\"请求失败\", 1)\r\n  return Promise.reject(error);\r\n});\r\n\r\n// 响应数据 的拦截器 \r\naxios.interceptors.response.use(function (response) {\r\n  // 成功接收到数据 \r\n  console.log(response);\r\n  if (response.data.type == 1) {\r\n    setTimeout(() => {\r\n      showToast(response.data.msg, 1);\r\n    }, 500)\r\n  }\r\n  if(response.data.type == 0){\r\n    setTimeout(() => {\r\n      failToast(response.data.msg, 1.5);\r\n    }, 500)\r\n  }\r\n\r\n  return response;\r\n}, function (error) {\r\n  failToast(\"响应失败\", 1);\r\n  // 无法接收到数据  \r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\nexport { axios };","\r\nimport {createHashHistory,createBrowserHistory} from \"history\";\r\n\r\nexport const history = new createHashHistory();\r\n\r\n// export {history};","import { axios } from '&/axios'\r\n\r\n\r\n\r\n//添加书籍分类\r\nexport const ADDBOOKCLASSIFY = 'addbookclassify';\r\nexport async function addBookClassify({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  if (!!res.data.type) {\r\n    return {\r\n      type: ADDBOOKCLASSIFY,\r\n      payload: res.data.sres\r\n    }\r\n  } else {\r\n    return {\r\n      type: 'DEFAULTBOOKCLASSIFY'\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//获取数据分类\r\nexport const GETBOOKCLASSIFY = 'getbookclassify';\r\nexport async function getClassify({ url }) {\r\n  let res = await axios.get(url);\r\n  return {\r\n    type: GETBOOKCLASSIFY,\r\n    payload: res.data.sres\r\n  }\r\n}\r\n\r\n\r\n//删除分类\r\nexport const DELETECLASSIFY = 'deleteclassify';\r\nexport async function deleteClassify({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: DELETECLASSIFY,\r\n    payload: res.data.sres\r\n  }\r\n}\r\n\r\n\r\n//修改分类\r\nexport const CHANGECLASSIFY = 'changeclassify';\r\nexport async function changeClassify({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: CHANGECLASSIFY,\r\n    payload: res.data.sres\r\n  }\r\n}\r\n\r\n\r\n//新书上架\r\nexport const ADDNEWBOOK = 'addnewbook';\r\nexport async function addNewBook({ url, bookinfo }) {\r\n  let res = await axios.post(url, bookinfo);\r\n  console.log(bookinfo)\r\n  return {\r\n    type: ADDNEWBOOK,\r\n    payload: res.data.sres\r\n  }\r\n}\r\n\r\n\r\n//获取图书列表\r\nexport const GETBOOKLIST = 'getbooklist';\r\nexport async function getBookList({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: GETBOOKLIST,\r\n    payload: res.data.result\r\n  }\r\n}\r\n\r\n\r\n//删除图书(_id)\r\nexport const DELETEBOOK = 'deletebook';\r\nexport async function deleteBook({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: DELETEBOOK,\r\n    payload: res.data.result\r\n  }\r\n}\r\n\r\n\r\n//修改图书\r\nexport const UPDATEBOOK = 'updatebook';\r\nexport async function updateBook({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: UPDATEBOOK,\r\n  }\r\n}\r\n\r\n\r\n//借书\r\nexport const BORROWBOOK = 'borrowbook'\r\nexport async function borrowBook({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: BORROWBOOK\r\n  }\r\n}\r\n\r\n//通过手机号查找已借书籍\r\nexport const GETBORROWBOOK = 'getborrowbook'\r\nexport async function getBorrowBook({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: GETBORROWBOOK,\r\n    payload: res.data.result\r\n  }\r\n}\r\n\r\n//设置borrowlist为空\r\nexport function setBorrowBook() {\r\n  return {\r\n    type: 'SETBORROWBOOK',\r\n    payload: null\r\n  }\r\n}\r\n\r\n//还书操作\r\nexport const REPAYBOOK = 'repaybook'\r\nexport async function bookRepay({ url, params }) {\r\n  let res = await axios.post(url, { params });\r\n  return {\r\n    type: REPAYBOOK,\r\n    payload: res.data.result\r\n  }\r\n}\r\n\r\n//获取reader list\r\nexport const GETREADERLIST = 'getreaderlist'\r\nexport async function getReaderList({ url,params }) {\r\n  let res = await axios.get(url,{params});\r\n  return {\r\n    type: GETREADERLIST,\r\n    payload: res.data.result\r\n  }\r\n}","import React from 'react';\nimport logo from './logo.svg';\n// import './App.css';\nimport {BookStore} from './scripts/index'\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BookStore></BookStore>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\r\nimport immutable from 'immutable'\r\nimport { ADDBOOKCLASSIFY, GETBOOKCLASSIFY, DELETECLASSIFY, CHANGECLASSIFY, ADDNEWBOOK, GETBOOKLIST, DELETEBOOK, UPDATEBOOK, BORROWBOOK, GETBORROWBOOK, REPAYBOOK, GETREADERLIST } from '../actions';\r\n\r\n\r\nconst defaultSate = immutable.Map({\r\n  classifylist: [],\r\n  bookinfo: {},\r\n  booklist: [],\r\n  borrowlist: [],\r\n  readerlist:[]\r\n})\r\n\r\nexport const data = (state = defaultSate, action) => {\r\n  switch (action.type) {\r\n    case ADDBOOKCLASSIFY:\r\n      return state.set('classifylist', action.payload)\r\n      break;\r\n\r\n    case GETBOOKCLASSIFY:\r\n      return state.set('classifylist', action.payload)\r\n      break;\r\n\r\n    case DELETECLASSIFY:\r\n      return state.set('classifylist', action.payload)\r\n      break;\r\n\r\n    case CHANGECLASSIFY:\r\n      return state.set('classifylist', action.payload)\r\n      break;\r\n\r\n    case 'DEFAULTBOOKCLASSIFY':\r\n      return state;\r\n      break;\r\n\r\n    case ADDNEWBOOK:\r\n      return state.set('bookinfo', action.payload)\r\n      break;\r\n\r\n    case GETBOOKLIST:\r\n      return state.set('booklist', action.payload)\r\n      break;\r\n\r\n    case DELETEBOOK:\r\n      return state.set('booklist', action.payload)\r\n      break;\r\n\r\n    case UPDATEBOOK:\r\n      return state;\r\n      break;\r\n\r\n    case BORROWBOOK:\r\n      return state;\r\n      break;\r\n\r\n    case GETBORROWBOOK:\r\n      return state.set('borrowlist', action.payload);\r\n      break;\r\n\r\n    case 'SETBORROWBOOK':\r\n      return state.set('borrowlist', action.payload);\r\n      break;\r\n\r\n    case REPAYBOOK:\r\n      return state.set('borrowlist', action.payload);\r\n      break;\r\n\r\n    case GETREADERLIST:\r\n      return state.set('readerlist',action.payload);\r\n      break;\r\n\r\n    default:\r\n      return state;\r\n      break;\r\n  }\r\n}","\r\nimport {combineReducers} from 'redux-immutable';\r\nimport { data } from './data';\r\n\r\nexport const reducers = combineReducers({\r\n  data:data,\r\n})","\r\n\r\nimport {createStore,applyMiddleware} from 'redux'\r\n\r\nimport { reducers } from './scripts/reducers'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport promise from 'redux-promise'\r\n\r\nconst store = createStore(reducers,applyMiddleware(thunk,promise))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\n// import './index.css';\nimport './styles/index.scss'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store'\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\n//通用的过场组件\r\nconst loadingComponent =()=>{\r\n    return (\r\n        <div>loading</div>\r\n    ) \r\n}\r\n\r\n//过场组件默认采用通用的，若传入了loading，则采用传入的过场组件\r\nexport default (loader,loading = loadingComponent)=>{\r\n    return Loadable({\r\n        loader,   // 需要懒加载的组件 \r\n        loading\r\n    });\r\n}","import { Toast } from 'antd-mobile';\r\n\r\n\r\nexport function failToast(msg,time){\r\n  Toast.hide()\r\n  Toast.fail(msg, time);\r\n}\r\n\r\nexport function successToast(msg,time) {\r\n  Toast.hide()\r\n  Toast.success(msg, time);\r\n}\r\n\r\nexport function loadingToast(msg,time) {\r\n  Toast.hide()\r\n  Toast.loading(msg, 1.5);\r\n}\r\n\r\n\r\n//时间格式化\r\nexport function dateFormat(time) {\r\n  var date = new Date(time);\r\n  var y = date.getFullYear();\r\n  var m = date.getMonth() + 1;\r\n  var d = date.getDate();\r\n  var hh = date.getHours();\r\n  var mm = date.getMinutes();\r\n  var ss = date.getSeconds();\r\n  m = m < 10 ? '0' + m : m;\r\n  d = d < 10 ? '0' + d : d;\r\n  hh = hh < 10 ? '0' + hh : hh;\r\n  mm = mm < 10 ? '0' + mm : mm;\r\n  ss = ss < 10 ? '0' + ss : ss;\r\n  return y + '-' + m + '-' + d + ' ' + '  ' + ' ' + hh + ':' + mm + ':' + ss\r\n}\r\n\r\n","\r\nimport './index.scss'\r\nimport { NavBar, Icon ,Popover} from 'antd-mobile';\r\nimport {history} from '&/history'\r\nimport {Pop} from '~/components/Popover'\r\n\r\nexport default class Head extends Component {\r\n\r\n\r\n  backClick=()=>{\r\n    if(this.props.showBack){\r\n      history.go(-1);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {title,showBack,showSearch,showPop} = this.props\r\n    return (\r\n      <div>\r\n        <NavBar\r\n          mode=\"dark\"\r\n          icon={showBack&&<Icon type=\"left\" />}\r\n          onLeftClick={this.backClick}\r\n          rightContent={[\r\n            showSearch&&<Icon key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n            showPop&&<Pop mode={this.props.mode} key='1' />,\r\n          ]}\r\n        >{title}</NavBar>\r\n      </div>\r\n    )\r\n  }\r\n}"],"sourceRoot":""}