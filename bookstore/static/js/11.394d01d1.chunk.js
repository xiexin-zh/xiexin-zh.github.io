(window.webpackJsonpbookstore=window.webpackJsonpbookstore||[]).push([[11],{249:function(e,t,n){"use strict";var a,o,i,r,s,l,c,u,p,f,A,m,b,d=n(262),h=n(11),g=n(263),v=(n(264),n(251)),y=n(16),k=(a=function e(){Object(h.a)(this,e),Object(d.a)(this,"touxiang",o,this),Object(d.a)(this,"username",i,this),Object(d.a)(this,"usertel",r,this),Object(d.a)(this,"files",s,this),Object(d.a)(this,"borrowbookinfo",l,this),Object(d.a)(this,"setAvatar",c,this),Object(d.a)(this,"getUserInfo",u,this),Object(d.a)(this,"saveBookImgs",p,this),Object(d.a)(this,"changeBookImg",f,this),Object(d.a)(this,"setBookImg",A,this),Object(d.a)(this,"getBookInfoById",m,this),Object(d.a)(this,"changBookCount",b,this)},o=Object(g.a)(a.prototype,"touxiang",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n(250)}}),i=Object(g.a)(a.prototype,"username",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"\u5c1a\u672a\u767b\u9646"}}),r=Object(g.a)(a.prototype,"usertel",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=Object(g.a)(a.prototype,"files",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(g.a)(a.prototype,"borrowbookinfo",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=Object(g.a)(a.prototype,"setAvatar",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.url,a=t.data;y.a.post(n,a).then((function(t){t.data.pic&&(e.touxiang=t.data.pic.replace(/public/,"https://xx1314.fun:8001"))}))}}}),u=Object(g.a)(a.prototype,"getUserInfo",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.url,a=t.params;y.a.get(n,{params:a}).then((function(t){e.touxiang=t.data.result.avatar.replace(/public/,"https://xx1314.fun:8001"),e.username=t.data.result.username,e.usertel=t.data.result.usertel}))}}}),p=Object(g.a)(a.prototype,"saveBookImgs",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.files=t}}}),f=Object(g.a)(a.prototype,"changeBookImg",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.files.length=0}}}),A=Object(g.a)(a.prototype,"setBookImg",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.files=t}}}),m=Object(g.a)(a.prototype,"getBookInfoById",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var a=t.url,o=t.params;y.a.get(a,{params:o}).then((function(t){e.borrowbookinfo=t.data.result,n(t.data.result)}))}}}),b=Object(g.a)(a.prototype,"changBookCount",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.borrowbookinfo.count-=t}}}),a);t.a=new k},250:function(e,t){e.exports="data:image/jpeg;base64,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"},271:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return B}));n(88);var o,i=n(47),r=n.n(i),s=(n(284),n(285)),l=n.n(s),c=(n(272),n(273)),u=n.n(c),p=(n(64),n(54)),f=n.n(p),A=(n(257),n(258)),m=n.n(A),b=n(266),d=n(11),h=n(12),g=n(15),v=n(13),y=n(14),k=n(274),C=n(87),j=n(23),E=n(259),w=n(249),O=n(29);n(21);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=Object(C.b)((function(e){return{classifylist:e.getIn(["data","classifylist"]),booklist:e.getIn(["data","booklist"])}}))(o=Object(E.a)(o=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(g.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e){n.setState({val:e})},n.checkClassify=function(){n.props.dispatch(Object(j.v)({url:"/bookstore/getClassify"})).then((function(e){console.log(e.payload),n.setState({data:e.payload})}))},n.selectClassify=function(e){n.setState({asyncValue:e,bookinfo:N({},n.state.bookinfo,{classify:e[0]})}),console.log(e[0])},n.saveMsg=function(){if(n.bookname.state.value.length<1)Object(O.b)("\u8bf7\u586b\u5199\u4e66\u540d\u4fe1\u606f",1);else if(n.auther.state.value.length<1)Object(O.b)("\u8bf7\u586b\u5199\u4f5c\u8005\u4fe1\u606f",1);else if(n.publishing.state.value.length<1)Object(O.b)("\u8bf7\u586b\u5199\u51fa\u7248\u793e\u4fe1\u606f",1);else if(n.description.state.value.length<1)Object(O.b)("\u8bf7\u586b\u5199\u63cf\u8ff0\u4fe1\u606f",1);else if(n.state.asyncValue.length<1)Object(O.b)("\u8bf7\u9009\u62e9\u5206\u7c7b",1);else{var e=n.props.id;e?n.props.dispatch(Object(j.y)({url:"/bookstore/updateBook",params:{id:e,bookinfo:N({},n.state.bookinfo,{files:w.a.files})}})).then((function(e){})):n.props.dispatch(Object(j.n)({url:"/bookstore/addNewBook",bookinfo:N({},n.state.bookinfo,{files:w.a.files})})).then((function(e){}))}},n.state={val:1,data:[],cols:1,asyncValue:[],bookinfo:{count:1},name:!0,extraname:"\u8bf7\u9009\u62e9"},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;console.log(!!t),t?this.props.dispatch(Object(j.t)({url:"/bookstore/getBookList",params:{id:t,limit:20}})).then((function(t){console.log(t),e.setState({bookinfo:N({},e.state.bookinfo,{},t.payload[0])}),e.setState({extraname:t.payload[0].classify,asyncValue:[t.payload[0].classify]}),w.a.setBookImg(t.payload[0].imgs)})):w.a.changeBookImg()}},{key:"componentWillUnmount",value:function(){w.a.changeBookImg()}},{key:"render",value:function(){var e=this,t=this.state.bookinfo;return a.createElement("div",{className:"bookcon"},a.createElement("div",{className:"booklist"},a.createElement(f.a,null,a.createElement(m.a,{ref:function(t){return e.bookname=t},title:"\u4e66\u540d\uff1a",placeholder:"(\u5fc5\u586b)",autoHeight:!0,required:!0,labelNumber:5,value:t.name?t.name:"",onChange:function(n){e.setState({bookinfo:N({},t,{name:n})})}})),a.createElement(f.a,null,a.createElement(m.a,{ref:function(t){return e.auther=t},title:"\u4f5c\u8005\uff1a",placeholder:"(\u5fc5\u586b)",value:t.auther?t.auther:"",autoHeight:!0,required:!0,labelNumber:5,onChange:function(n){e.setState({bookinfo:N({},t,{auther:n})})}})),a.createElement(f.a,null,a.createElement(m.a,{ref:function(t){return e.publishing=t},title:"\u51fa\u7248\u793e\uff1a",placeholder:"(\u5fc5\u586b)",value:t.publishing?t.publishing:"",autoHeight:!0,required:!0,labelNumber:5,onChange:function(n){e.setState({bookinfo:N({},t,{publishing:n})})}})),a.createElement(f.a,null,a.createElement(m.a,{ref:function(t){return e.description=t},title:"\u63cf\u8ff0\uff1a",placeholder:"(\u5fc5\u586b)",value:t.description?t.description:"",autoHeight:!0,required:!0,labelNumber:5,onChange:function(n){e.setState({bookinfo:N({},t,{description:n})})}})),a.createElement(f.a,null,a.createElement(f.a.Item,{wrap:!0,extra:a.createElement(u.a,{style:{width:"100%",minWidth:"100px"},showNumber:!0,min:1,ref:function(t){return e.booknum=t},value:this.state.bookinfo.count,onChange:function(n){e.setState({bookinfo:N({},t,{count:n})})}})},"\u6570\u91cf\uff1a")),a.createElement(l.a,{title:"\u9009\u62e9\u5206\u7c7b",data:this.state.data,cols:this.state.cols,extra:this.state.extraname,value:this.state.asyncValue,ref:function(t){return e.bookclassify=t},onOk:function(t){return e.selectClassify(t)}},a.createElement(f.a.Item,{arrow:"horizontal",ref:function(t){return e.classitem=t},onClick:this.checkClassify},"\u5206\u7c7b\uff1a")),a.createElement("p",{className:"upimg",style:{width:"100px",fontSize:"16px",padding:"10px 15px"}},"\u4e0a\u4f20\u5c01\u9762\uff1a"),a.createElement("div",{style:{overflow:"hidden",padding:"0 15px"}},a.createElement("div",{id:"bookimg",style:{width:"90px",height:"100px",float:"left",border:"1px solid #ddd"}},a.createElement("img",{style:{width:"90px",height:"100px"},src:0==w.a.files.length?"":w.a.files[0].url,alt:""})),a.createElement("div",{style:{width:"200px",height:"100px",float:"left"}},a.createElement(k.a,null))),a.createElement("p",{style:{color:"red",fontSize:"12px",padding:"15px",boxSizing:"border-box"}},"\u6ce8\uff1a\u4e0d\u8981\u4e0a\u4f20>2M\u7684\u56fe\u7247\uff1b",a.createElement("span",null,this.props.text))),a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"ceter",marginTop:"30px"}},a.createElement(r.a,{style:{width:"95%"},type:"primary",onClick:this.saveMsg},"\u4fdd\u5b58")))}}]),t}(e))||o)||o}).call(this,n(0).Component,n(0))},274:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return m}));n(289);var o,i=n(290),r=n.n(i),s=n(11),l=n(12),c=n(15),u=n(13),p=n(14),f=(n(275),n(259)),A=n(249),m=Object(f.a)(o=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t,n,a){console.log(t,n,a),A.a.saveBookImgs(t),e.setState({files:t})},e.state={files:[],multiple:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.files;return a.createElement("div",null,a.createElement(r.a,{files:e,onChange:this.onChange,onImageClick:function(e,t){return console.log(e,t)},selectable:e.length<1,multiple:this.state.multiple}))}}]),t}(e))||o}).call(this,n(0).Component,n(0))},275:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(6),o=n.n(a),i=n(3),r=n.n(i),s=n(5),l=n.n(s),c=n(2),u=n.n(c),p=n(4),f=n.n(p),A=n(0),m=n.n(A),b=n(8),d=n.n(b),h=n(45),g=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!!e.hiddenClassName||!!e.visible}},{key:"render",value:function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=o()({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,m.a.createElement("div",o()({},t))}}]),t}(m.a.Component);function v(){}var y=function(e){function t(){r()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getDialogElement=function(){var t=e.props,n=t.closable,a=t.prefixCls,o=void 0;t.footer&&(o=m.a.createElement("div",{className:a+"-footer",ref:function(t){return e.footerRef=t}},t.footer));var i=void 0;t.title&&(i=m.a.createElement("div",{className:a+"-header",ref:function(t){return e.headerRef=t}},m.a.createElement("div",{className:a+"-title"},t.title)));var r=void 0;n&&(r=m.a.createElement("button",{onClick:e.close,"aria-label":"Close",className:a+"-close"},m.a.createElement("span",{className:a+"-close-x"})));var s=e.getTransitionName(),l=m.a.createElement(g,{key:"dialog-element",role:"document",ref:function(t){return e.dialogRef=t},style:t.style||{},className:a+" "+(t.className||""),visible:t.visible},m.a.createElement("div",{className:a+"-content"},r,i,m.a.createElement("div",{className:a+"-body",style:t.bodyStyle,ref:function(t){return e.bodyRef=t}},t.children),o));return m.a.createElement(h.a,{key:"dialog",showProp:"visible",onAppear:e.onAnimateAppear,onLeave:e.onAnimateLeave,transitionName:s,component:"",transitionAppear:!0},l)},e.onAnimateAppear=function(){document.body.style.overflow="hidden"},e.onAnimateLeave=function(){document.body.style.overflow="",e.wrapRef&&(e.wrapRef.style.display="none"),e.props.onAnimateLeave&&e.props.onAnimateLeave(),e.props.afterClose&&e.props.afterClose()},e.close=function(t){e.props.onClose&&e.props.onClose(t)},e.onMaskClick=function(t){t.target===t.currentTarget&&e.close(t)},e}return f()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){document.body.style.overflow="",this.wrapRef&&(this.wrapRef.style.display="none")}},{key:"getZIndexStyle",value:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e}},{key:"getWrapStyle",value:function(){var e=this.props.wrapStyle||{};return o()({},this.getZIndexStyle(),e)}},{key:"getMaskStyle",value:function(){var e=this.props.maskStyle||{};return o()({},this.getZIndexStyle(),e)}},{key:"getMaskTransitionName",value:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getMaskElement",value:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=m.a.createElement(g,o()({style:this.getMaskStyle(),key:"mask-element",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),n&&(t=m.a.createElement(h.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.maskClosable,i=this.getWrapStyle();return t.visible&&(i.display=null),m.a.createElement("div",null,this.getMaskElement(),m.a.createElement("div",o()({className:n+"-wrap "+(t.wrapClassName||""),ref:function(t){return e.wrapRef=t},onClick:a?this.onMaskClick:void 0,role:"dialog","aria-labelledby":t.title,style:i},t.wrapProps),this.getDialogElement()))}}]),t}(m.a.Component),k=y;y.defaultProps={afterClose:v,className:"",mask:!0,visible:!1,closable:!0,maskClosable:!0,prefixCls:"rmc-dialog",onClose:v};var C=!!d.a.createPortal,j=!("undefined"===typeof window||!window.document||!window.document.createElement),E=function(e){function t(){r()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.saveRef=function(t){C&&(e._component=t)},e.getComponent=function(t){var n=o()({},e.props);return["visible","onAnimateLeave"].forEach((function(e){n.hasOwnProperty(e)&&delete n[e]})),m.a.createElement(k,o()({},n,{visible:t,onAnimateLeave:e.removeContainer,ref:e.saveRef}))},e.removeContainer=function(){e.container&&(C||d.a.unmountComponentAtNode(e.container),e.container.parentNode.removeChild(e.container),e.container=null)},e.getContainer=function(){if(!e.container){var t=document.createElement("div"),n=e.props.prefixCls+"-container-"+(new Date).getTime();t.setAttribute("id",n),document.body.appendChild(t),e.container=t}return e.container},e}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.visible&&this.componentDidUpdate()}},{key:"shouldComponentUpdate",value:function(e){var t=e.visible;return!(!this.props.visible&&!t)}},{key:"componentWillUnmount",value:function(){this.props.visible?C?this.removeContainer():this.renderDialog(!1):this.removeContainer()}},{key:"componentDidUpdate",value:function(){C||this.renderDialog(this.props.visible)}},{key:"renderDialog",value:function(e){d.a.unstable_renderSubtreeIntoContainer(this,this.getComponent(e),this.getContainer())}},{key:"render",value:function(){if(!j)return null;var e=this.props.visible;return C&&(e||this._component)?d.a.createPortal(this.getComponent(e),this.getContainer()):null}}]),t}(m.a.Component);t.default=E;E.defaultProps={visible:!1,prefixCls:"rmc-dialog",onClose:function(){}}},304:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"default",(function(){return p}));var o=n(11),i=n(12),r=n(15),s=n(13),l=n(14),c=(n(305),n(53)),u=n(271),p=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"bookadd"},a.createElement(c.a,{title:"\u65b0\u4e66\u4e0a\u67b6",showBack:!0}),a.createElement(u.a,null))}}]),t}(e)}.call(this,n(0).Component,n(0))},305:function(e,t,n){}}]);
//# sourceMappingURL=11.394d01d1.chunk.js.map